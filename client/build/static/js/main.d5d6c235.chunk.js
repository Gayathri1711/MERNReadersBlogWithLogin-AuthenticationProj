(this.webpackJsonpfrontend=this.webpackJsonpfrontend||[]).push([[0],{48:function(e,t,a){},74:function(e,t,a){},75:function(e,t,a){},76:function(e,t,a){},77:function(e,t,a){},78:function(e,t,a){"use strict";a.r(t);var s=a(1),n=a.n(s),c=a(23),i=a.n(c),r=(a(48),a(4)),l=a(5),o=a(7),d=a(6),h=a(9),j=a(3),b=a(25),u=a(14),p=a.n(u),m=function(e){e?p.a.defaults.headers.common.Authorization=e:delete p.a.defaults.headers.common.Authorization},O="GET_ERRORS",g="USER_LOADING",x="SET_CURRENT_USER",A=function(e){return{type:x,payload:e}},v=function(){return function(e){localStorage.removeItem("jwtToken"),m(!1),e(A({}))}},f=a(16),w=a(17),y=a(42),N=a(8),S=a(71),k={isAuthenticated:!1,user:{},loading:!1};var C={};var E=Object(w.c)({auth:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:k,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case x:return Object(N.a)(Object(N.a)({},e),{},{isAuthenticated:!S(t.payload),user:t.payload});case g:return Object(N.a)(Object(N.a)({},e),{},{loading:!0});default:return e}},errors:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:C,t=arguments.length>1?arguments[1]:void 0;switch(t.type){case O:return t.payload;default:return e}}}),I=[y.a],R=Object(w.e)(E,{},Object(w.d)(w.a.apply(void 0,I))),U=a(0),L=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(U.jsx)("div",{className:"navbar-fixed",children:Object(U.jsx)("nav",{className:"z-depth-0",children:Object(U.jsx)("div",{className:"nav-wrapper white",children:Object(U.jsxs)(h.b,{to:"/",style:{fontFamily:"monospace"},className:"col s5 brand-logo center black-text",children:[Object(U.jsx)("i",{className:"material-icons",children:"code"}),"NEWS READERS BLOG"]})})})})}}]),a}(s.Component),D=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(U.jsx)("div",{style:{height:"75vh"},className:"container valign-wrapper",children:Object(U.jsx)("div",{className:"row",children:Object(U.jsxs)("div",{className:"col s12 center-align",children:[Object(U.jsx)("h5",{children:"SEARCH ANY NEWS"}),Object(U.jsx)("br",{}),Object(U.jsx)("div",{className:"col s6",children:Object(U.jsx)(h.b,{to:"/register",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large waves-effect waves-light hoverable blue accent-3",children:"Register"})}),Object(U.jsx)("div",{className:"col s6",children:Object(U.jsx)(h.b,{to:"/login",style:{width:"140px",borderRadius:"3px",letterSpacing:"1.5px"},className:"btn btn-large btn-flat waves-effect white black-text",children:"Log In"})})]})})})}}]),a}(s.Component),Q=a(21),T=a(18),B=a.n(T),P=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(Q.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={name:e.state.name,email:e.state.email,password:e.state.password,password2:e.state.password2};e.props.registerUser(a,e.props.history)},e.state={name:"",email:"",password:"",password2:"",errors:{}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/dashboard")}},{key:"componentWillReceiveProps",value:function(e){e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return Object(U.jsx)("div",{className:"container",children:Object(U.jsx)("div",{className:"row",children:Object(U.jsxs)("div",{className:"col s8 offset-s2",children:[Object(U.jsxs)(h.b,{to:"/",className:"btn-flat waves-effect",children:[Object(U.jsx)("i",{className:"material-icons left",children:"keyboard_backspace"})," Back to home"]}),Object(U.jsxs)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:[Object(U.jsxs)("h4",{children:[Object(U.jsx)("b",{children:"Register"})," below"]}),Object(U.jsxs)("p",{className:"grey-text text-darken-1",children:["Already have an account? ",Object(U.jsx)(h.b,{to:"/login",children:"Log in"})]})]}),Object(U.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(U.jsxs)("div",{className:"input-field col s12",children:[Object(U.jsx)("input",{onChange:this.onChange,value:this.state.name,error:e.name,id:"name",type:"text",className:B()("",{invalid:e.name})}),Object(U.jsx)("label",{htmlFor:"name",children:"Name"}),Object(U.jsx)("span",{className:"red-text",children:e.name})]}),Object(U.jsxs)("div",{className:"input-field col s12",children:[Object(U.jsx)("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:B()("",{invalid:e.email})}),Object(U.jsx)("label",{htmlFor:"email",children:"Email"}),Object(U.jsx)("span",{className:"red-text",children:e.email})]}),Object(U.jsxs)("div",{className:"input-field col s12",children:[Object(U.jsx)("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:B()("",{invalid:e.password})}),Object(U.jsx)("label",{htmlFor:"password",children:"Password"}),Object(U.jsx)("span",{className:"red-text",children:e.password})]}),Object(U.jsxs)("div",{className:"input-field col s12",children:[Object(U.jsx)("input",{onChange:this.onChange,value:this.state.password2,error:e.password2,id:"password2",type:"password",className:B()("",{invalid:e.password2})}),Object(U.jsx)("label",{htmlFor:"password2",children:"Confirm Password"}),Object(U.jsx)("span",{className:"red-text",children:e.password2})]}),Object(U.jsx)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:Object(U.jsx)("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3",children:"Sign up"})})]})]})})})}}]),a}(s.Component),M=Object(f.b)((function(e){return{auth:e.auth,errors:e.errors}}),{registerUser:function(e,t){return function(a){p.a.post("/api/users/register",e).then((function(e){return t.push("/login")})).catch((function(e){return a({type:O,payload:e.response.data})}))}}})(Object(j.g)(P)),F=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;return Object(r.a)(this,a),(e=t.call(this)).onChange=function(t){e.setState(Object(Q.a)({},t.target.id,t.target.value))},e.onSubmit=function(t){t.preventDefault();var a={email:e.state.email,password:e.state.password};e.props.loginUser(a)},e.state={email:"",password:"",errors:{}},e}return Object(l.a)(a,[{key:"componentDidMount",value:function(){this.props.auth.isAuthenticated&&this.props.history.push("/Landing1")}},{key:"componentWillReceiveProps",value:function(e){e.auth.isAuthenticated&&this.props.history.push("/Landing1"),e.errors&&this.setState({errors:e.errors})}},{key:"render",value:function(){var e=this.state.errors;return Object(U.jsx)("div",{className:"container",children:Object(U.jsx)("div",{style:{marginTop:"4rem"},className:"row",children:Object(U.jsxs)("div",{className:"col s8 offset-s2",children:[Object(U.jsxs)(h.b,{to:"/",className:"btn-flat waves-effect",children:[Object(U.jsx)("i",{className:"material-icons left",children:"keyboard_backspace"})," Back to home"]}),Object(U.jsxs)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:[Object(U.jsxs)("h4",{children:[Object(U.jsx)("b",{children:"Login"})," below"]}),Object(U.jsxs)("p",{className:"grey-text text-darken-1",children:["Don't have an account? ",Object(U.jsx)(h.b,{to:"/register",children:"Register"})]})]}),Object(U.jsxs)("form",{noValidate:!0,onSubmit:this.onSubmit,children:[Object(U.jsxs)("div",{className:"input-field col s12",children:[Object(U.jsx)("input",{onChange:this.onChange,value:this.state.email,error:e.email,id:"email",type:"email",className:B()("",{invalid:e.email||e.emailnotfound})}),Object(U.jsx)("label",{htmlFor:"email",children:"Email"}),Object(U.jsxs)("span",{className:"red-text",children:[e.email,e.emailnotfound]})]}),Object(U.jsxs)("div",{className:"input-field col s12",children:[Object(U.jsx)("input",{onChange:this.onChange,value:this.state.password,error:e.password,id:"password",type:"password",className:B()("",{invalid:e.password||e.passwordincorrect})}),Object(U.jsx)("label",{htmlFor:"password",children:"Password"}),Object(U.jsxs)("span",{className:"red-text",children:[e.password,e.passwordincorrect]})]}),Object(U.jsx)("div",{className:"col s12",style:{paddingLeft:"11.250px"},children:Object(U.jsx)("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},type:"submit",className:"btn btn-large waves-effect waves-light hoverable blue accent-3",children:"Login"})})]})]})})})}}]),a}(s.Component),G=Object(f.b)((function(e){return{auth:e.auth,errors:e.errors}}),{loginUser:function(e){return function(t){p.a.post("/api/users/login",e).then((function(e){var a=e.data.token;localStorage.setItem("jwtToken",a),m(a);var s=Object(b.a)(a);t(A(s))})).catch((function(e){return t({type:O,payload:e.response.data})}))}}})(F),H=a(43),X=Object(f.b)((function(e){return{auth:e.auth}}))((function(e){var t=e.component,a=e.auth,s=Object(H.a)(e,["component","auth"]);return Object(U.jsx)(j.b,Object(N.a)(Object(N.a)({},s),{},{render:function(e){return!0===a.isAuthenticated?Object(U.jsx)(t,Object(N.a)({},e)):Object(U.jsx)(j.a,{to:"/login"})}}))})),q=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){var e;Object(r.a)(this,a);for(var s=arguments.length,n=new Array(s),c=0;c<s;c++)n[c]=arguments[c];return(e=t.call.apply(t,[this].concat(n))).onLogoutClick=function(t){t.preventDefault(),e.props.logoutUser()},e}return Object(l.a)(a,[{key:"render",value:function(){this.props.auth.user;return Object(U.jsx)("div",{style:{height:"75vh"},className:"container valign-wrapper",children:Object(U.jsx)("div",{className:"row",children:Object(U.jsxs)("div",{className:"col s12 center-align",children:[Object(U.jsxs)("h3",{children:["Stay Tuned... :)",Object(U.jsx)("p",{className:"flow-text grey-text text-darken-1"})]}),Object(U.jsx)("button",{style:{width:"150px",borderRadius:"3px",letterSpacing:"1.5px",marginTop:"1rem"},onClick:this.onLogoutClick,className:"btn btn-large waves-effect waves-light hoverable blue accent-3",children:"Logout"})]})})})}}]),a}(s.Component),J=Object(f.b)((function(e){return{auth:e.auth}}),{logoutUser:v})(q),Y=a(31),Z=a(19),V=(a(74),function(e){console.log(e);var t=null;return t="landing1"==e.history.page?"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAJWSURBVHgB3ZqPdZswEMY//DoAG5QN4kxgPEHbCepO0GwQZ4JkA6cTpJ3AdII6E8AG8QbXOyQlhOBESiSQ+L138Cz+6TO64ziRwRNEVPCqZDvT67xjhkbbge2ercqyrMHUcOdztku2mt5PzXat/4jRBZRse/LPbhRBchG2OwrPLpggPvFPtgcaj5ptA5+QGsNTcW3Tx+wNARJx9mxLTItEuTVHuOOpHU4KiUiE4VUxrwn5h3hEGA4s5Hxow2KoUY/L2EQIS1ufEREbip+Lfr+znogCyi8KxI34yXk3vekL2fFqAz9UbH97bSuoPMwHv1nItxetpJ7aPtkOXGNLfinNubvOfon0eOxzK4SUb2yQHpK8tq8J5o5cIF3avhshX5Au32Wx0MOqQLpIkPosd6RE+qxFSIypiCtLEXKG9Fl9grt/VHj5xD61n03bEK4ZQA5yZ4vAkHsG8LDAPMjnIqR9IB4xA8TZRUjucMzK0k+kHFp1G3S2Wlocu4IbjRHiQgn7iFINHBsiy25kaNmE0ti5FyEHpM9BhFRIn2qhX+AbpEsjGsxz5BfS5Y8sjJAbpEvb91aIrqdWSI9bU9vqpihXSI/HPvcLdHe8+go/VAhboJO78cP8GCqZShXeJWWZggZqiqExDc+yX70hhSF2ZTWtzXfmhuJlMMLOe6JHs0ZceVg79XZq42wmQ62gaX3Gb9ZBakqupvGQjxPCFNdJTQbdUnjkM5ECoQkoaE+dWajR0ILEf2p6PzWpgtyHsokMnqCnD88kwkk9ucDzcuyxY5KDSSTy9uHZf2ub8VGmjwIRAAAAAElFTkSuQmCC":"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADIAAAAyCAYAAAAeP4ixAAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAEKSURBVHgB7djrDoIwDIbhxiv0jtyd6G1ySOYw2dJgmAVa1+n3JvxSuj3xAIEIIYQQQn9enOcrGWU5e73QPU5TTMeNlFtmvmanNcgyhojamILIhxVm+chXCDXMGyIfw2DzNUvDgzZmE5HWIss0Mc0QbAOnMc0RbCOHMW4QbEO7Me4QbGNijFtEToJxj8jVMN0gchVMP4icEBOohz5gAhl0IZviwdf8VPlhi64zLhIifGNqf7HR4K7ZJMl1wj1GgmDv9YnZg2Dn+MIcQbBzfWDOINiMthgNBJvVBqOJYDO/i6k8Dgp0sk2M1VPHOI4PbUSZvcaktcgyhgmkXMFYI8qCv/AQGyGEEEKOewJ67A8ee5x5mAAAAABJRU5ErkJggg==",Object(U.jsxs)("div",{className:"head",children:[Object(U.jsx)("img",{src:t,onClick:function(){"landing1"==e.history.page?e.history.history.push("/create"):e.history.history.push("/dashboard")}}),Object(U.jsx)("span",{children:"Readers Spot"})]})}),z=(a(75),function(e){return Object(U.jsxs)("div",{className:"search",children:[Object(U.jsx)("img",{className:"search-image",src:"data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABgAAAAYCAYAAADgdz34AAAACXBIWXMAAAsTAAALEwEAmpwYAAAAAXNSR0IArs4c6QAAAARnQU1BAACxjwv8YQUAAAC9SURBVHgB7ZThDcIgFIQvXcQ3QkfASYyTtBvUDToCjqCT1A3qBkqTI2ITQPLKH/VLLi+Q4x1tKcAfBcbJOs1OD1bLeTUDm8Y0QIFvvuy4dxLOC8ezJsQEzduIpw1CDAqxXNhnfD19ZxTidyYZn+D1pEX4j7iZt1mN76y7zDpZ+T8OuLAe08twYL2iEIPKp2jhFIR0eP8PuqD5CAU+JKaRdUL+xEUxSN9F0xYhKeQ3QhrouTntWasiqPSKvpwn31dQn8FTMRUAAAAASUVORK5CYII="}),Object(U.jsx)("input",{className:"search-text",type:"text",onChange:function(t){e.onSearch(t.target.value)}})]})}),K=(a(76),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),(s=t.call(this,e)).deleteOnClick=function(e){p.a.delete("http://localhost:3000/api/users/article?id=".concat(e)).then((function(e){s.componentDidMount()})).catch((function(e){console.log(e),alert(e)}))},s.state={data:[],delete:"delete"},s.onSearch=s.onSearch.bind(Object(Z.a)(s)),s}return Object(l.a)(a,[{key:"componentDidMount",value:function(){var e=this;p.a.get("http://localhost:3000/api/users/article/get-all").then((function(t){e.setState({data:Object(Y.a)(t.data.data)})})).catch((function(e){console.log(e),alert(e)}))}},{key:"onClickArticle",value:function(e){window.open(e,"_blank")}},{key:"onSearch",value:function(e){var t=this;p.a.get("http://localhost:3000/api/users/article/search?searchTerm=".concat(e)).then((function(e){t.setState({data:Object(Y.a)(e.data.data)})})).catch((function(e){console.log(e),alert(e)}))}},{key:"render",value:function(){var e=this,t=Object(N.a)(Object(N.a)({},this.props),{},{page:"landing1"});return Object(U.jsxs)("div",{children:[Object(U.jsx)(V,{history:t}),Object(U.jsx)(z,{onSearch:this.onSearch}),this.state.data.length>0?this.state.data.map((function(t,a){return Object(U.jsxs)("div",{className:"container",children:[Object(U.jsx)("button",{className:e.state.delete,onClick:e.deleteOnClick.bind(e,t._id)},a+"delete"),Object(U.jsxs)("div",{className:"article-block",onClick:e.onClickArticle.bind(e,t.url),children:[Object(U.jsxs)("div",{className:"left-art",children:[Object(U.jsx)("div",{className:"article-title",children:t.title},a+"article-title"),Object(U.jsx)("div",{className:"article-desc",children:t.description},a+"article-desc")]},a+"left-art"),Object(U.jsx)("div",{className:"right-art",children:Object(U.jsx)("img",{className:"article-image",src:t.imageUrl},a+"article-image")},a+"right-art")]},a+"article-block")]},a+"container")})):Object(U.jsx)("div",{})]})}}]),a}(n.a.Component)),W=(a(77),function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(e){var s;return Object(r.a)(this,a),s=t.call(this,e),console.log(e),s.state={data:[],imageUrl:null},s.handleSubmit=s.handleSubmit.bind(Object(Z.a)(s)),s.imageChange=s.imageChange.bind(Object(Z.a)(s)),s}return Object(l.a)(a,[{key:"imageChange",value:function(e){this.setState({imageUrl:e.target.value})}},{key:"handleSubmit",value:function(e){var t=this;e.preventDefault();var a=e.target.elements.title.value,s=e.target.elements.description.value,n=e.target.elements.image.value,c=e.target.elements.url.value;if(a&&s){var i={title:a,description:s,imageUrl:n,url:c};p.a.post("http://localhost:3000/api/users/article",i).then((function(e){console.log("Data added successfully"),t.props.history.push("/Landing1")})).catch((function(e){alert(e)}))}else alert("Values are missing")}},{key:"render",value:function(){var e=Object(N.a)(Object(N.a)({},this.props),{},{page:"create"});return Object(U.jsxs)("div",{children:[Object(U.jsx)(V,{history:e}),Object(U.jsxs)("form",{className:"content",onSubmit:this.handleSubmit,children:[Object(U.jsxs)("div",{className:"left-desc",children:[Object(U.jsx)("textarea",{id:"title",name:"title",placeholder:"Enter the title"}),Object(U.jsx)("textarea",{id:"name",name:"description",placeholder:"Enter the description"}),Object(U.jsx)("input",{type:"text",id:"image",name:"image",placeholder:"Enter the Image url",onChange:this.imageChange}),Object(U.jsx)("input",{type:"text",id:"url",name:"url",placeholder:"Enter the Article url"})]}),Object(U.jsxs)("div",{className:"right-desc",children:[Object(U.jsx)("img",{className:"image-div",src:this.state.imageUrl}),Object(U.jsx)("button",{children:"Submit"})]})]})]})}}]),a}(n.a.Component));if(localStorage.jwtToken){var _=localStorage.jwtToken;m(_);var $=Object(b.a)(_);R.dispatch(A($));var ee=Date.now()/1e3;$.exp<ee&&(R.dispatch(v()),window.location.href="./login")}var te=function(e){Object(o.a)(a,e);var t=Object(d.a)(a);function a(){return Object(r.a)(this,a),t.apply(this,arguments)}return Object(l.a)(a,[{key:"render",value:function(){return Object(U.jsx)(f.a,{store:R,children:Object(U.jsx)(h.a,{children:Object(U.jsxs)("div",{className:"App",children:[Object(U.jsx)(L,{}),Object(U.jsx)(j.b,{exact:!0,path:"/",component:D}),Object(U.jsx)(j.b,{exact:!0,path:"/register",component:M}),Object(U.jsx)(j.b,{exact:!0,path:"/login",component:G}),Object(U.jsxs)(j.d,{children:[Object(U.jsx)(X,{exact:!0,path:"/dashboard",component:J}),Object(U.jsx)(X,{exact:!0,path:"/Landing1",component:K}),Object(U.jsx)(X,{exact:!0,path:"/create",component:W})]})]})})})}}]),a}(s.Component),ae=function(e){e&&e instanceof Function&&a.e(3).then(a.bind(null,79)).then((function(t){var a=t.getCLS,s=t.getFID,n=t.getFCP,c=t.getLCP,i=t.getTTFB;a(e),s(e),n(e),c(e),i(e)}))};i.a.render(Object(U.jsx)(n.a.StrictMode,{children:Object(U.jsx)(te,{})}),document.getElementById("root")),ae()}},[[78,1,2]]]);
//# sourceMappingURL=main.d5d6c235.chunk.js.map